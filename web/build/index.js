"use strict";function _classCallCheck(e,s){if(!(e instanceof s))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function e(e,s){for(var a=0;a<s.length;a++){var n=s[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(s,a,n){return a&&e(s.prototype,a),n&&e(s,n),s}}(),MessageStorage=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"getMessages",value:function(){var e=null;return $.ajax({type:"POST",url:"/get_messages",dataType:"json",async:!1,success:function(s){"ok"==s.status&&(e=s.messages)}}),e}},{key:"addMessage",value:function(s){var a=s.user(),n=s.message();""!=n&&$.ajax({type:"POST",url:"/add",data:{user:a,message:n},dataType:"json",success:function(a){"ok"==a.status&&(s.message(""),s.messages(e.getMessages()))}})}}]),e}();